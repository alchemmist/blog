<!doctype html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    <meta charset="UTF-8" />

    <link href="https://umami.alchemmist.xyz" rel="preconnect" crossorigin />
    <link
      href="https://www.googletagmanager.com"
      rel="preconnect"
      crossorigin
    />
    <link href="https://cdn.jsdelivr.net" rel="preconnect" crossorigin />

    <script
      src="https://umami.alchemmist.xyz/script.js"
      data-website-id="10c310bd-96d9-4521-a366-c7ff4a78bce4"
      async
    ></script>

    {{ $js := resources.Get "main.js" | resources.Minify | resources.Fingerprint
    }}
    <script
      src="{{ $js.Permalink }}"
      integrity="{{ $js.Data.Integrity }}"
      defer
    ></script>

    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/gh/alchemmist/personal-site@main/site/static/assets/fonts/couriercyrps.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/gh/alchemmist/personal-site@main/site/static/assets/fonts/cmu.serif-roman.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <title>{{ .Title }} | {{ .Site.Title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="{{ with .Description }}{{ . }}{{ else }}{{ .Summary | plainify | truncate 160 }}{{ end }}"
    />
    <meta name="author" content="alchemmist" />

    <link rel="canonical" href="{{ .Permalink }}" />

    <!-- OpenGraph -->
    <meta property="og:title" content="{{ .Title }} - {{ .Site.Title }}" />
    <meta
      property="og:description"
      content="{{ with .Description }}{{ . }}{{ else }}{{ .Summary | plainify | truncate 160 }}{{ end }}"
    />
    <meta
      property="og:image"
      content="{{ if .Params.image }}{{ .Params.image }}{{ else }}/assets/preview.png{{ end }}"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta
      property="og:type"
      content="{{ if .IsPage }}article{{ else }}website{{ end }}"
    />
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{ .Title }} - {{ .Site.Title }}" />

    <meta
      name="twitter:description"
      content="{{ with .Description }}{{ . }}{{ else }}{{ .Summary | plainify | truncate 160 }}{{ end }}"
    />
    <meta
      name="twitter:image"
      content="{{ if .Params.image }}{{ .Params.image }}{{ else }}/assets/preview.png{{ end }}"
    />

    <!-- Styles -->
    {{ $style := resources.Get "style.css" | resources.Minify |
    resources.Fingerprint }}
    <link
      rel="stylesheet"
      href="{{ $style.Permalink }}"
      integrity="{{ $style.Data.Integrity }}"
    />

    {{ $syntax := resources.Get "syntax.css" | resources.Minify |
    resources.Fingerprint }}
    <link
      rel="stylesheet"
      href="{{ $syntax.Permalink }}"
      integrity="{{ $syntax.Data.Integrity }}"
      media="print"
      onload="this.media='all'"
    />

    <!-- Favicons -->
    <link
      rel="icon"
      href="https://cdn.jsdelivr.net/gh/alchemmist/personal-site@main/site/static/favicon.ico"
      type="image/x-icon"
    />

    <!-- RSS -->
    <link
      rel="alternate"
      type="application/rss+xml"
      href="{{ .Site.BaseURL }}index.xml"
      title="{{ .Site.Title }} RSS Feed"
    />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-11CS0ECH9L"
    ></script>

    <!-- External Libraries -->
    <link
      href="/_pagefind/pagefind-ui.css"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <script src="/_pagefind/pagefind-ui.js" async></script>
    {{ block "head" . }}{{ end }}
  </head>
  <body>
    {{ if ne .RelPermalink "/search" }}
    <div id="search-modal" class="search-modal">
      <div class="search-modal-content">
        <div id="search-hidden"></div>
      </div>
    </div>
    {{ end }}
    <div
      id="moss-loader"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: #000;
        color: #fff;
        font-family: monospace;
        z-index: 999;
      "
    ></div>
    {{ partial "header.html" . }} {{ block "main" . }}{{ end }} {{ partial
    "footer.html" . }}
  </body>
</html>

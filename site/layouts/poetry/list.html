{{ define "head" }}
<link rel="preload" href="/assets/moss1.webp" as="image" />
<link rel="preload" href="/assets/moss1-1.webp" as="image" />
<link rel="preload" href="/assets/moss1-2.webp" as="image" />
<link rel="preload" href="/assets/moss2.webp" as="image" />
<link rel="preload" href="/assets/moss3.webp" as="image" />
<link rel="preload" href="/assets/moss7.webp" as="image" />
<link rel="preload" href="/assets/moss8.webp" as="image" />
{{ end }} {{ define "main" }}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const leftZone = document.querySelector(".moss-trigger-zone.left");
    const rightZone = document.querySelector(".moss-trigger-zone.right");
    const overlay = document.querySelector(".moss-overlay");

    let hoverCount = 0;

    function showMoss() {
      hoverCount++;
      overlay.classList.add("active");
    }

    function hideMoss() {
      hoverCount--;
      if (hoverCount <= 0) {
        overlay.classList.remove("active");
        hoverCount = 0;
      }
    }

    leftZone.addEventListener("mouseenter", showMoss);
    rightZone.addEventListener("mouseenter", showMoss);
    leftZone.addEventListener("mouseleave", hideMoss);
    rightZone.addEventListener("mouseleave", hideMoss);
  });
  document.querySelectorAll("img.moss-layer").forEach((img) => {
    img.style.opacity = 0;
    img.addEventListener("load", () => {
      img.style.transition = "opacity 0.3s ease";
      img.style.opacity = 1;
    });
  });
</script>

<div class="moss-overlay">
  <img
    src="/assets/moss1-2.webp"
    class="moss-layer moss-left"
    id="moss-left-1"
    loading="lazy"
  />
  <img
    src="/assets/moss3.webp"
    class="moss-layer moss-left"
    id="moss-left-2"
    loading="lazy"
  />
  <img
    src="/assets/moss8.webp"
    class="moss-layer moss-left"
    id="moss-left-3"
    loading="lazy"
  />
  <img
    src="/assets/moss2.webp"
    class="moss-layer moss-left"
    id="moss-left-4"
    loading="lazy"
  />
  <img
    src="/assets/moss1.webp"
    class="moss-layer moss-left"
    id="moss-left-5"
    loading="lazy"
  />
  <img
    src="/assets/moss2.webp"
    class="moss-layer moss-right"
    id="moss-right-1"
    loading="lazy"
  />
  <img
    src="/assets/moss8.webp"
    class="moss-layer moss-right"
    id="moss-right-2"
    loading="lazy"
  />
  <img
    src="/assets/moss7.webp"
    class="moss-layer moss-right"
    id="moss-right-3"
    loading="lazy"
  />
  <img
    src="/assets/moss1-1.webp"
    class="moss-layer moss-right"
    id="moss-right-4"
    loading="lazy"
  />
  <img
    src="/assets/moss3.webp"
    class="moss-layer moss-right"
    id="moss-right-5"
    loading="lazy"
  />
</div>

<div class="moss-trigger-zone left"></div>
<div class="moss-trigger-zone right"></div>

<main class="base-container poetry-container">
  <h2 data-pagefind-meta="title">Poetry {{ partial "allLanguages.html" . }}</h2>
  <div class="archive-container">
    <ul>
      {{ range .Pages }}
      <li>
        <a href="{{ .RelPermalink }}">{{ .Title }}</a> â€”
        <span>{{ .Date.Format "2006-01-02" }}</span>
      </li>
      {{ end }}
    </ul>
  </div>
</main>
{{ end }}
